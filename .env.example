# ===========================================
# TELEGRAM SHOP - Environment Variables
# ===========================================
# Copy this file to .env and fill in your values

# -----------------
# General
# -----------------
NODE_ENV=development
PORT=3001
FRONTEND_URL=http://localhost:3000

# -----------------
# Database
# -----------------
# PostgreSQL connection string
# Format: postgresql://USER:PASSWORD@HOST:PORT/DATABASE
DATABASE_URL=postgresql://postgres:postgres@localhost:5432/telegram_shop

# Docker PostgreSQL settings
POSTGRES_USER=postgres
POSTGRES_PASSWORD=postgres
POSTGRES_DB=telegram_shop
POSTGRES_PORT=5432

# -----------------
# Redis
# -----------------
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0
REDIS_URL=redis://localhost:6379

# -----------------
# JWT Authentication
# -----------------
# Generate with: openssl rand -base64 32
JWT_SECRET=your-super-secret-access-token-key-change-this
JWT_REFRESH_SECRET=your-super-secret-refresh-token-key-change-this
JWT_EXPIRES_IN=15m
JWT_REFRESH_EXPIRES_IN=7d

# -----------------
# Telegram
# -----------------
# Telegram Bot Token (from @BotFather)
TELEGRAM_BOT_TOKEN=1234567890:ABCdefGHIjklMNOpqrsTUVwxyz

# Telegram Mini App URL
TELEGRAM_APP_URL=https://t.me/your_bot/app

# Admin Telegram IDs (comma-separated)
TELEGRAM_ADMIN_IDS=123456789,987654321

# -----------------
# Payment Gateway (Prodamus)
# -----------------
PRODAMUS_API_KEY=your-prodamus-api-key
PRODAMUS_SECRET_KEY=your-prodamus-secret-key
PRODAMUS_WEBHOOK_URL=https://your-domain.com/api/webhooks/prodamus
PRODAMUS_SUCCESS_URL=https://your-domain.com/checkout/success
PRODAMUS_FAIL_URL=https://your-domain.com/checkout/fail

# -----------------
# File Upload
# -----------------
# Max file size in MB
MAX_FILE_SIZE_MB=10

# Upload directory
UPLOAD_DIR=./uploads

# Allowed file types (comma-separated)
ALLOWED_FILE_TYPES=image/jpeg,image/png,image/webp,image/gif

# -----------------
# CDEK (Delivery Service)
# -----------------
# Optional: for future integration
CDEK_API_URL=https://api.cdek.ru/v2
CDEK_CLIENT_ID=
CDEK_CLIENT_SECRET=

# -----------------
# Session
# -----------------
# Session token expiration (in days)
SESSION_TOKEN_EXPIRES_DAYS=30

# Cart expiration (in days)
CART_EXPIRES_DAYS=30

# -----------------
# Rate Limiting
# -----------------
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# -----------------
# Logging
# -----------------
LOG_LEVEL=info
LOG_FILE=./logs/app.log

# -----------------
# Email (Optional)
# -----------------
# For future email notifications
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=
SMTP_PASS=
EMAIL_FROM=noreply@telegram-shop.com

# -----------------
# CORS
# -----------------
# Allowed origins (comma-separated)
CORS_ORIGINS=http://localhost:3000,https://your-domain.com

# -----------------
# Security
# -----------------
# Bcrypt rounds (10-12 recommended)
BCRYPT_ROUNDS=10

# -----------------
# Admin Panel
# -----------------
# 2FA code expiration (in minutes)
ADMIN_2FA_CODE_EXPIRES_MIN=5

# -----------------
# Analytics (Optional)
# -----------------
# For future analytics integration
ANALYTICS_ENABLED=false
ANALYTICS_API_KEY=

# -----------------
# Monitoring (Optional)
# -----------------
# For future monitoring integration (Sentry, etc.)
SENTRY_DSN=
SENTRY_ENVIRONMENT=development

# -----------------
# Cron Jobs
# -----------------
# Enable/disable automated tasks
CRON_ENABLED=true

# Cleanup old carts (daily at 00:00)
CRON_CLEANUP_CARTS=0 0 * * *

# Cleanup old orders (daily at 00:00)
CRON_CLEANUP_ORDERS=0 0 * * *

# Check expired promocodes (every hour)
CRON_CHECK_PROMOCODES=0 * * * *

# -----------------
# Development
# -----------------
# Enable debug mode
DEBUG=false

# Enable query logging in Prisma
PRISMA_DEBUG=false

# -----------------
# Production
# -----------------
# Your production domain
DOMAIN=your-domain.com

# SSL/TLS
SSL_ENABLED=true
SSL_CERT_PATH=/etc/letsencrypt/live/your-domain.com/fullchain.pem
SSL_KEY_PATH=/etc/letsencrypt/live/your-domain.com/privkey.pem
